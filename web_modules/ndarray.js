function r(c){for(var f=new Array(c),a=0;a<c;++a)f[a]=a;return f}var s=r;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var t=function(c){return c!=null&&(n(c)||u(c)||!!c._isBuffer)};function n(c){return!!c.constructor&&typeof c.constructor.isBuffer==="function"&&c.constructor.isBuffer(c)}function u(c){return typeof c.readFloatLE==="function"&&typeof c.slice==="function"&&n(c.slice(0,0))}var v=typeof Float64Array!=="undefined";function w(c,f){return c[0]-f[0]}function x(){var c=this.stride,f=new Array(c.length),a;for(a=0;a<f.length;++a)f[a]=[Math.abs(c[a]),a];f.sort(w);var h=new Array(f.length);for(a=0;a<h.length;++a)h[a]=f[a][1];return h}function y(c,f){var a=["View",f,"d",c].join("");f<0&&(a="View_Nil"+c);var h=c==="generic";if(f===-1){var d="function "+a+"(a){this.data=a;};var proto="+a+".prototype;proto.dtype='"+c+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+a+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+a+"(a){return new "+a+"(a);}",j=new Function(d);return j()}else if(f===0){var d="function "+a+"(a,d) {this.data = a;this.offset = d};var proto="+a+".prototype;proto.dtype='"+c+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+a+"_copy() {return new "+a+"(this.data,this.offset)};proto.pick=function "+a+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+a+"_get(){return "+(h?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+a+"_set(v){return "+(h?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+a+"(a,b,c,d){return new "+a+"(a,d)}",j=new Function("TrivialArray",d);return j(m[c][0])}var d=["'use strict'"],g=s(f),i=g.map(function(b){return"i"+b}),k="this.offset+"+g.map(function(b){return"this.stride["+b+"]*i"+b}).join("+"),l=g.map(function(b){return"b"+b}).join(","),o=g.map(function(b){return"c"+b}).join(",");d.push("function "+a+"(a,"+l+","+o+",d){this.data=a","this.shape=["+l+"]","this.stride=["+o+"]","this.offset=d|0}","var proto="+a+".prototype","proto.dtype='"+c+"'","proto.dimension="+f),d.push("Object.defineProperty(proto,'size',{get:function "+a+"_size(){return "+g.map(function(b){return"this.shape["+b+"]"}).join("*"),"}})"),f===1?d.push("proto.order=[0]"):(d.push("Object.defineProperty(proto,'order',{get:"),f<4?(d.push("function "+a+"_order(){"),f===2?d.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):f===3&&d.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):d.push("ORDER})")),d.push("proto.set=function "+a+"_set("+i.join(",")+",v){"),h?d.push("return this.data.set("+k+",v)}"):d.push("return this.data["+k+"]=v}"),d.push("proto.get=function "+a+"_get("+i.join(",")+"){"),h?d.push("return this.data.get("+k+")}"):d.push("return this.data["+k+"]}"),d.push("proto.index=function "+a+"_index(",i.join(),"){return "+k+"}"),d.push("proto.hi=function "+a+"_hi("+i.join(",")+"){return new "+a+"(this.data,"+g.map(function(b){return["(typeof i",b,"!=='number'||i",b,"<0)?this.shape[",b,"]:i",b,"|0"].join("")}).join(",")+","+g.map(function(b){return"this.stride["+b+"]"}).join(",")+",this.offset)}");var C=g.map(function(b){return"a"+b+"=this.shape["+b+"]"}),D=g.map(function(b){return"c"+b+"=this.stride["+b+"]"});d.push("proto.lo=function "+a+"_lo("+i.join(",")+"){var b=this.offset,d=0,"+C.join(",")+","+D.join(","));for(var e=0;e<f;++e)d.push("if(typeof i"+e+"==='number'&&i"+e+">=0){d=i"+e+"|0;b+=c"+e+"*d;a"+e+"-=d}");d.push("return new "+a+"(this.data,"+g.map(function(b){return"a"+b}).join(",")+","+g.map(function(b){return"c"+b}).join(",")+",b)}"),d.push("proto.step=function "+a+"_step("+i.join(",")+"){var "+g.map(function(b){return"a"+b+"=this.shape["+b+"]"}).join(",")+","+g.map(function(b){return"b"+b+"=this.stride["+b+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var e=0;e<f;++e)d.push("if(typeof i"+e+"==='number'){d=i"+e+"|0;if(d<0){c+=b"+e+"*(a"+e+"-1);a"+e+"=ceil(-a"+e+"/d)}else{a"+e+"=ceil(a"+e+"/d)}b"+e+"*=d}");d.push("return new "+a+"(this.data,"+g.map(function(b){return"a"+b}).join(",")+","+g.map(function(b){return"b"+b}).join(",")+",c)}");for(var p=new Array(f),q=new Array(f),e=0;e<f;++e)p[e]="a[i"+e+"]",q[e]="b[i"+e+"]";d.push("proto.transpose=function "+a+"_transpose("+i+"){"+i.map(function(b,E){return b+"=("+b+"===undefined?"+E+":"+b+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+a+"(this.data,"+p.join(",")+","+q.join(",")+",this.offset)}"),d.push("proto.pick=function "+a+"_pick("+i+"){var a=[],b=[],c=this.offset");for(var e=0;e<f;++e)d.push("if(typeof i"+e+"==='number'&&i"+e+">=0){c=(c+this.stride["+e+"]*i"+e+")|0}else{a.push(this.shape["+e+"]);b.push(this.stride["+e+"])}");d.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),d.push("return function construct_"+a+"(data,shape,stride,offset){return new "+a+"(data,"+g.map(function(b){return"shape["+b+"]"}).join(",")+","+g.map(function(b){return"stride["+b+"]"}).join(",")+",offset)}");var j=new Function("CTOR_LIST","ORDER",d.join(`
`));return j(m[c],x)}function z(c){if(t(c))return"buffer";if(v)switch(Object.prototype.toString.call(c)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(c)?"array":"generic"}var m={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function A(c,f,a,h){if(c===void 0){var d=m.array[0];return d([])}else typeof c==="number"&&(c=[c]);f===void 0&&(f=[c.length]);var j=f.length;if(a===void 0){a=new Array(j);for(var g=j-1,i=1;g>=0;--g)a[g]=i,i*=f[g]}if(h===void 0){h=0;for(var g=0;g<j;++g)a[g]<0&&(h-=(f[g]-1)*a[g])}for(var k=z(c),l=m[k];l.length<=j+1;)l.push(y(k,l.length-1));var d=l[j+1];return d(c,f,a,h)}var B=A;export default B;
