function _(n){for(var s=new Array(n),t=0;t<n;++t)s[t]=t;return s}var A=_;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var m=function(n){return n!=null&&(b(n)||d(n)||!!n._isBuffer)};function b(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function d(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&b(n.slice(0,0))}var T=typeof Float64Array!="undefined";function C(n,s){return n[0]-s[0]}function O(){var n=this.stride,s=new Array(n.length),t;for(t=0;t<s.length;++t)s[t]=[Math.abs(n[t]),t];s.sort(C);var u=new Array(s.length);for(t=0;t<u.length;++t)u[t]=s[t][1];return u}function S(n,s){var t=["View",s,"d",n].join("");s<0&&(t="View_Nil"+n);var u=n==="generic";if(s===-1){var e="function "+t+"(a){this.data=a;};var proto="+t+".prototype;proto.dtype='"+n+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+t+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+t+"(a){return new "+t+"(a);}",p=new Function(e);return p()}else if(s===0){var e="function "+t+"(a,d) {this.data = a;this.offset = d};var proto="+t+".prototype;proto.dtype='"+n+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+t+"_copy() {return new "+t+"(this.data,this.offset)};proto.pick=function "+t+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+t+"_get(){return "+(u?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+t+"_set(v){return "+(u?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+t+"(a,b,c,d){return new "+t+"(a,d)}",p=new Function("TrivialArray",e);return p(c[n][0])}var e=["'use strict'"],o=A(s),f=o.map(function(r){return"i"+r}),i="this.offset+"+o.map(function(r){return"this.stride["+r+"]*i"+r}).join("+"),h=o.map(function(r){return"b"+r}).join(","),v=o.map(function(r){return"c"+r}).join(",");e.push("function "+t+"(a,"+h+","+v+",d){this.data=a","this.shape=["+h+"]","this.stride=["+v+"]","this.offset=d|0}","var proto="+t+".prototype","proto.dtype='"+n+"'","proto.dimension="+s),e.push("Object.defineProperty(proto,'size',{get:function "+t+"_size(){return "+o.map(function(r){return"this.shape["+r+"]"}).join("*"),"}})"),s===1?e.push("proto.order=[0]"):(e.push("Object.defineProperty(proto,'order',{get:"),s<4?(e.push("function "+t+"_order(){"),s===2?e.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):s===3&&e.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):e.push("ORDER})")),e.push("proto.set=function "+t+"_set("+f.join(",")+",v){"),u?e.push("return this.data.set("+i+",v)}"):e.push("return this.data["+i+"]=v}"),e.push("proto.get=function "+t+"_get("+f.join(",")+"){"),u?e.push("return this.data.get("+i+")}"):e.push("return this.data["+i+"]}"),e.push("proto.index=function "+t+"_index(",f.join(),"){return "+i+"}"),e.push("proto.hi=function "+t+"_hi("+f.join(",")+"){return new "+t+"(this.data,"+o.map(function(r){return["(typeof i",r,"!=='number'||i",r,"<0)?this.shape[",r,"]:i",r,"|0"].join("")}).join(",")+","+o.map(function(r){return"this.stride["+r+"]"}).join(",")+",this.offset)}");var j=o.map(function(r){return"a"+r+"=this.shape["+r+"]"}),w=o.map(function(r){return"c"+r+"=this.stride["+r+"]"});e.push("proto.lo=function "+t+"_lo("+f.join(",")+"){var b=this.offset,d=0,"+j.join(",")+","+w.join(","));for(var a=0;a<s;++a)e.push("if(typeof i"+a+"==='number'&&i"+a+">=0){d=i"+a+"|0;b+=c"+a+"*d;a"+a+"-=d}");e.push("return new "+t+"(this.data,"+o.map(function(r){return"a"+r}).join(",")+","+o.map(function(r){return"c"+r}).join(",")+",b)}"),e.push("proto.step=function "+t+"_step("+f.join(",")+"){var "+o.map(function(r){return"a"+r+"=this.shape["+r+"]"}).join(",")+","+o.map(function(r){return"b"+r+"=this.stride["+r+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var a=0;a<s;++a)e.push("if(typeof i"+a+"==='number'){d=i"+a+"|0;if(d<0){c+=b"+a+"*(a"+a+"-1);a"+a+"=ceil(-a"+a+"/d)}else{a"+a+"=ceil(a"+a+"/d)}b"+a+"*=d}");e.push("return new "+t+"(this.data,"+o.map(function(r){return"a"+r}).join(",")+","+o.map(function(r){return"b"+r}).join(",")+",c)}");for(var l=new Array(s),y=new Array(s),a=0;a<s;++a)l[a]="a[i"+a+"]",y[a]="b[i"+a+"]";e.push("proto.transpose=function "+t+"_transpose("+f+"){"+f.map(function(r,g){return r+"=("+r+"===undefined?"+g+":"+r+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+t+"(this.data,"+l.join(",")+","+y.join(",")+",this.offset)}"),e.push("proto.pick=function "+t+"_pick("+f+"){var a=[],b=[],c=this.offset");for(var a=0;a<s;++a)e.push("if(typeof i"+a+"==='number'&&i"+a+">=0){c=(c+this.stride["+a+"]*i"+a+")|0}else{a.push(this.shape["+a+"]);b.push(this.stride["+a+"])}");e.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),e.push("return function construct_"+t+"(data,shape,stride,offset){return new "+t+"(data,"+o.map(function(r){return"shape["+r+"]"}).join(",")+","+o.map(function(r){return"stride["+r+"]"}).join(",")+",offset)}");var p=new Function("CTOR_LIST","ORDER",e.join(`
`));return p(c[n],O)}function B(n){if(m(n))return"buffer";if(T)switch(Object.prototype.toString.call(n)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(n)?"array":"generic"}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function R(n,s,t,u){if(n===void 0){var e=c.array[0];return e([])}else typeof n=="number"&&(n=[n]);s===void 0&&(s=[n.length]);var p=s.length;if(t===void 0){t=new Array(p);for(var o=p-1,f=1;o>=0;--o)t[o]=f,f*=s[o]}if(u===void 0){u=0;for(var o=0;o<p;++o)t[o]<0&&(u-=(s[o]-1)*t[o])}for(var i=B(n),h=c[i];h.length<=p+1;)h.push(S(i,h.length-1));var e=h[p+1];return e(n,s,t,u)}var F=R;export default F;
